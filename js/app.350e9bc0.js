(function(e){function t(t){for(var a,r,i=t[0],l=t[1],c=t[2],d=0,u=[];d<i.length;d++)r=i[d],o[r]&&u.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"324a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[e._m(0),n("MapSearch")],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h1",[e._v("Healthy Choices")])])])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-lg-6"},[n("div",{attrs:{id:"map"}}),n("input",{staticClass:"controls m-2 px-2",attrs:{id:"pac-input",type:"text",placeholder:"Enter Address..."}}),n("div",[n("span",[e._v("Price:")]),n("i",{staticClass:"fas fa-dollar-sign pl-1",attrs:{id:"price-1"},on:{click:function(t){return e.price(1)}}}),n("i",{staticClass:"fas fa-dollar-sign pl-1",attrs:{id:"price-2"},on:{click:function(t){return e.price(2)}}}),n("i",{staticClass:"fas fa-dollar-sign pl-1",attrs:{id:"price-3"},on:{click:function(t){return e.price(3)}}})]),e._m(0)]),n("div",{staticClass:"col-12 col-lg-6"},[n("div",{staticClass:"d-flex-col align-items-center"},[n("h1",[e._v("Closest Stores")]),e._l(e.display_stores,function(t){return n("div",{key:t.id,staticClass:"d-flex justify-content-between p-2 results"},[n("div",[n("span",{staticClass:"heavy-text pr-2"},[e._v(e._s(t.tags.name))]),n("span",{staticClass:"light-text"},[e._v(e._s(t.dist.toString().slice(0,3))+" mi")])]),n("div",{staticClass:"d-flex"},[t.tags.shop in{supermarket:0,organic:0}?n("div",[n("i",{staticClass:"fas fa-apple-alt"})]):e._e(),n("div",e._l(t.tags.price,function(e){return n("i",{staticClass:"fas fa-dollar-sign pl-1"})}),0)])])})],2)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("Has Produce:")]),n("i",{staticClass:"fas fa-apple-alt pl-1"})])}],l=(n("ac6a"),n("e814")),c=n.n(l),p=(n("7f7f"),n("55dd"),{data:function(){return{display_stores:[],all_stores:[{type:"node",id:265837170,lat:42.8995639,lon:-78.8787798,tags:{name:"Holly Farms",shop:"convenience",price:2}},{type:"node",id:414392643,lat:42.9191243,lon:-78.8767071,tags:{name:"Lexington Co-op",shop:"organic",price:3}},{type:"node",id:566210891,lat:42.9478503,lon:-78.8426688,tags:{name:"Dash's Market",shop:"supermarket",price:2}},{type:"node",id:629520975,lat:42.9587374,lon:-78.8789928,tags:{name:"Save-a-Lot",shop:"supermarket",price:1}},{type:"node",id:714220178,lat:42.8719731,lon:-78.8070933,tags:{name:"Clinton Street Mini-Mart",shop:"convenience",price:2}},{type:"node",id:768716991,lat:42.8991878,lon:-78.8736134,tags:{name:"Allentown Trading Post",shop:"convenience",price:2}},{type:"node",id:768721742,lat:42.8992851,lon:-78.8712879,tags:{name:"Bill's Food Mart",shop:"convenience",price:2}},{type:"node",id:927332730,lat:42.9178485,lon:-78.8774729,tags:{name:"Globe Market",shop:"supermarket",price:2}},{type:"node",id:1386869696,lat:42.858356,lon:-78.8303111,tags:{name:"Tops Markets",shop:"supermarket",price:2}},{type:"node",id:1892277134,lat:42.948976,lon:-78.8288996,tags:{name:"Aldi",shop:"supermarket",price:1}},{type:"node",id:1978627974,lat:42.9207792,lon:-78.8904671,tags:{name:"Guercio & Sons",shop:"supermarket",price:2}},{type:"node",id:3085720842,lat:42.9600159,lon:-78.8172394,tags:{name:"TOPS",shop:"supermarket",price:2}},{type:"node",id:4196968701,lat:42.90412,lon:-78.8164843,tags:{name:"Community Food & Meat Market",shop:"supermarket",price:2}}]}},methods:{dist:function(e,t){return(Math.pow(Math.abs(e.lat)-Math.abs(t.lat),2)+Math.pow(Math.pow(Math.abs(e.lon)-Math.abs(t.lon),2),.5))/2.1},price:function(e){$("#price-1").css("color","#ccc"),$("#price-2").css("color","#ccc"),$("#price-3").css("color","#ccc"),e>2&&$("#price-3").css("color","green"),e>1&&$("#price-2").css("color","green"),e>0&&$("#price-1").css("color","green")},update_stores:function(e){var t=[];for(var n in this.all_stores){var a=this.all_stores[n];a.dist=this.dist(e,a),t.push(a)}t.sort(function(e,t){return e.dist-t.dist}),this.display_stores=t.slice(0,3),console.log(this.display_stores)}},mounted:function(){var e=this,t=new google.maps.Map(document.getElementById("map"),{center:{lat:42.8866,lng:-78.8793},zoom:13,mapTypeId:"roadmap"});for(var n in this.all_stores)new google.maps.Marker({position:{lat:this.all_stores[n].lat,lng:this.all_stores[n].lon},map:t,title:this.all_stores[n].tags.name});t.data.loadGeoJson("https://storage.googleapis.com/mapsdevsite/json/google.json");var a=document.getElementById("pac-input"),o=new google.maps.places.SearchBox(a);t.addListener("bounds_changed",function(){o.setBounds(t.getBounds())});var s=[];o.addListener("places_changed",function(){var n=o.getPlaces();if(0!=n.length){var a={lat:c()(n[0].geometry.location.lat(),10),lon:c()(n[0].geometry.location.lng(),10)};e.update_stores(a),s.forEach(function(e){e.setMap(null)}),s=[];var r=new google.maps.LatLngBounds;n.forEach(function(e){if(e.geometry){var n={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};s.push(new google.maps.Marker({map:t,icon:n,title:e.name,position:e.geometry.location})),e.geometry.viewport?r.union(e.geometry.viewport):r.extend(e.geometry.location)}else console.log("Returned place contains no geometry")}),t.fitBounds(r)}})}}),d=p,u=(n("98c0"),n("2877")),f=Object(u["a"])(d,r,i,!1,null,null,null),g=f.exports,m={name:"app",components:{MapSearch:g}},h=m,v=(n("034f"),Object(u["a"])(h,o,s,!1,null,null,null)),y=v.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(y)}}).$mount("#app")},"64a9":function(e,t,n){},"98c0":function(e,t,n){"use strict";var a=n("324a"),o=n.n(a);o.a}});
//# sourceMappingURL=app.350e9bc0.js.map